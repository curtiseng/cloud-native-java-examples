# 2. multi-tenant decisions

Date: 2018-12-27

## Status

Accepted

## Context

多组户在企业应用里是一项基本功能，多租户在传统系统里靠数据库来实现，包括使用字段，多实例或者是多个数据库。
在云上，多租户通常使用虚拟化技术来实现，而在K8s里，我们可以借助K8s本身提供的资源隔离来实现。

## Decision

在资源有限的情况下，我们使用字段来实现多组户的隔离，但使用公司、端点、租户字段需要考虑一下。
UAA上的多租户是为了用户的隔离，不是为了业务服务的多组户实现，如果业务线（比如OA业务线）想要实现基于多租户的数据权限控制，需要自己实现。
UAA实现多租户更多是站在最高视角上来看的，比如公司内部各个业务线可以算是一个租户，为外部系统提供第三方登录又是一个租户，为几个不相干公司提供登录服务。

## Consequences

Consequences here...
